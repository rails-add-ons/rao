.service-chain
  .wizard
    .wizard-track.bg-light
    - service_chain.steps.each_with_index do |step, index|
      - if step.display?
        .wizard-step{ class: [step.completion_status, (step.actual? ? :actual : nil)].compact.join(" "), id: "step#{index + 1}" }
          - if step.actual?
            %span.wizard-step-marker.rounded-circle.bg-primary.text-white
              %i.fas.fa-play
            %span.wizard-step-label
              - if options[:link_actual_step]
                = link_to(step.label, step.url(self))
              - else
                = step.label
          - else
            - if step.completed?
              %span.wizard-step-marker.rounded-circle.bg-success.text-white
                %i.fas.fa-check
            - else
              %span.wizard-step-marker.rounded-circle.bg-secondary.text-white
                %i.fas.fa-circle
            %span.wizard-step-label
              - if (service_chain.before_actual?(step) && options[:link_previous_steps]) || (service_chain.after_actual?(step) && options[:link_next_steps])
                = link_to(step.label, step.url(self))
              - else
                = step.label